{"version":3,"sources":["components/Filter.jsx","services/Notes.js","components/Delete.jsx","components/Notification.jsx","App.js","index.js"],"names":["Filter","searchby","handleChange","type","value","onChange","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Delete","toggleDelete","onClick","Notification","message","style","includes","color","background","fontSize","borderRadius","borderStyle","padding","marginBottom","PhoneBook","useState","persons","setPersons","newName","setNewName","number","setNumber","searchBy","setSearchBy","success","setSuccess","useEffect","Notes","console","log","length","e","target","onSubmit","preventDefault","finder","filter","person","name","trim","window","confirm","num","map","catch","setTimeout","concat","required","toLowerCase","index","personIndex","className","ids","note","ReactDOM","render","StrictMode","App","document","getElementById"],"mappings":"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","file":"static/js/main.2dc8827d.chunk.js","sourcesContent":["const Filter = ({ searchby, handleChange }) => {\n  return (\n    <div>\n      filter shown with\n      <input type=\"text\" value={searchby} onChange={handleChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  return axios.delete(`${baseUrl}/${id}`).then((response) => response.data);\n};\n\nexport default {\n  getAll: getAll,\n  create: create,\n  update: update,\n  deletePerson: deletePerson,\n};\n","const Delete = ({ toggleDelete }) => {\n  return <button onClick={toggleDelete}>delete</button>;\n};\n\nexport default Delete;\n","const Notification = ({ message }) => {\n  const red = {\n    color: \"red\",\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderRadius: 5,\n    borderStyle: \"solid\",\n    padding: 10,\n    marginBottom: 10,\n  };\n  const green = {\n    color: \"green\",\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderRadius: 5,\n    borderStyle: \"solid\",\n    padding: 10,\n    marginBottom: 10,\n  };\n  if (!message) return null;\n  return <div style={message.includes(\"added\") ? green : red}>{message}</div>;\n};\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter.jsx\";\nimport Notes from \"./services/Notes\";\nimport Delete from \"./components/Delete\";\nimport Notification from \"./components/Notification\";\nconst PhoneBook = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const [searchBy, setSearchBy] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const handleChange = (e) => {\n    setSearchBy(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const finder = persons.filter((person) => person.name === newName.trim());\n    finder.length ? (\n      <>\n        {window.confirm(\"This name already exists,replace the old number?\") ===\n        true\n          ? Notes.update(finder[0].id, { name: newName, num: number })\n              .then((value) => {\n                setPersons(\n                  persons.map((person) =>\n                    person.id !== finder[0].id ? person : value\n                  )\n                );\n              })\n              .catch(() => {\n                setSuccess(\"name has already been deleted from the server\");\n                setTimeout(() => {\n                  setSuccess(\"\");\n                }, 3000);\n              })\n          : \"\"}\n      </>\n    ) : (\n      Notes.create({ name: newName, num: number }).then((data) => {\n        setPersons(persons.concat(data));\n        setSuccess(\"added new name\");\n        setTimeout(() => {\n          setSuccess(\"\");\n        }, 3000);\n      })\n    );\n  };\n\n  useEffect(() => {\n    Notes.getAll().then((response) => setPersons(response));\n  }, []);\n  console.log(\"render\", persons.length, \"persons\");\n\n  const toggleDelete = (ids) => {\n    Notes.deletePerson(ids).then(() => {\n      setPersons(persons.filter((note) => note.id !== ids));\n    });\n  };\n\n  return (\n    <div>\n      <h2>PhoneBook</h2>\n      <Notification message={success} />\n      <Filter searchby={searchBy} handleChange={handleChange} />\n\n      <form onSubmit={handleSubmit}>\n        <h2>add a name</h2>\n        <div>\n          name :\n          <input\n            type=\"text\"\n            value={newName}\n            onChange={(e) => setNewName(e.target.value)}\n            required\n          />\n        </div>\n\n        <br />\n        <div>\n          number :\n          <input\n            type=\"text\"\n            value={number}\n            onChange={(e) => setNumber(e.target.value)}\n            required\n          />\n        </div>\n        <br />\n        <button>add</button>\n        <br />\n      </form>\n      <h2>Numbers</h2>\n      <ul>\n        {searchBy\n          ? persons\n              .filter((value) =>\n                value.name.toLowerCase().includes(searchBy.toLowerCase())\n              )\n              .map((value, index) => (\n                <li key={`person${index}`}>\n                  {\" \"}\n                  {value.name}\n                  {value.num}\n                </li>\n              ))\n          : persons.map((person, personIndex) => (\n              <li className=\"person\" key={`person-${personIndex}`}>\n                {person.name} {person.num}\n                <Delete toggleDelete={() => toggleDelete(person.id)} />\n              </li>\n            ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default PhoneBook;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}